(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),o=a.n(r),l=(a(89),a(37)),i=a(10),u=a(24),m=a.n(u),s=a(19),d=(a(112),a(12));function E(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),l=Object(d.a)(o,2),u=l[0],s=l[1],E=Object(n.useState)(""),p=Object(d.a)(E,2),h=p[0],b=p[1],g=Object(n.useState)(!1),f=Object(d.a)(g,2),v=f[0],O=f[1],y=Object(i.g)();function j(e){switch(e.target.name){case"username":r(e.target.value);break;case"password":s(e.target.value);break;default:return 1}}function C(){return h?c.a.createElement("div",{style:{color:"red"}},h):null}return Object(n.useEffect)((function(){window.localStorage.getItem("token")&&y.push("/admin")}),[y]),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),b(""),O(!0);var t={username:a,password:u};m.a.post("/api/login",t).then((function(e){var t="bearer "+e.data;window.localStorage.setItem("token",t),y.push("/admin")})).catch((function(e){O(!1),b(e.response.data)}))}},c.a.createElement("input",{type:"text",name:"username",value:a,onChange:j,placeholder:"username"}),c.a.createElement("br",null),c.a.createElement("input",{type:"password",name:"password",value:u,onChange:j,placeholder:"password"}),c.a.createElement("br",null),c.a.createElement("button",{type:"submit"},"Login"),c.a.createElement(C,null),c.a.createElement("br",null),v&&"Loading...")}var p=function(e){return{type:"CHECK_TOKEN_SUCCESSLY",data:e}},h={type:"CHECK_TOKEN_ERROR"},b={type:"LOGOUT"};function g(e){return function(){var t=window.localStorage.getItem("token"),a=Object(n.useState)("AUTHEN"),r=Object(d.a)(a,2),o=r[0],l=r[1],u=Object(s.b)();Object(n.useEffect)((function(){m.a.get("/api/checkToken",{headers:{Authorization:t}}).then((function(e){u(p(e.data)),l("PAGE")})).catch((function(e){u(h),l("LOGIN")}))}),[u,t]);var E=function(){switch(o){case"LOGIN":return c.a.createElement(i.a,{to:"/login"});case"PAGE":return c.a.createElement(e,null);default:return c.a.createElement("div",null,"Loading...")}};return c.a.createElement(E,null)}}function f(e){var t=e.handleExitAddCategory,a=c.a.useState(""),n=Object(d.a)(a,2),r=n[0],o=n[1],l=c.a.useState(""),i=Object(d.a)(l,2),u=i[0],s=i[1];return c.a.createElement("div",{className:"add-category"},c.a.createElement("div",{className:"exit"},c.a.createElement("button",{onClick:t},"Tho\xe1t")),c.a.createElement("div",{className:"wrap-form-add-category"},c.a.createElement("div",{className:"form-add-category"},c.a.createElement("input",{type:"text",placeholder:"T\xean s\u1ea3n ph\u1ea9m",onChange:function(e){o(e.target.value)}}),c.a.createElement("button",{onClick:function(){m.a.post("/api/category",{name:r}).then((function(e){s(""),console.log(e.data),t()})).catch((function(e){s(e.response.data)}))}},"Th\xeam m\u1edbi"),c.a.createElement("p",{style:{color:"white"}},u))))}var v=a(176),O=a(173),y=a(177),j=a(178),C=a(175),w=a(170),S=a(75),k=a.n(S),N=a(76),T=a.n(N),x=Object(w.a)((function(e){return{input:{display:"none"}}}));function I(e){var t=e.exitFormAddProduct,a=Object(n.useState)(""),r=Object(d.a)(a,2),o=r[0],l=r[1],i=Object(n.useState)(""),u=Object(d.a)(i,2),m=u[0],E=u[1],p=Object(n.useState)(!1),h=Object(d.a)(p,2),b=h[0],g=h[1];console.log(o);var f=Object(s.c)((function(e){return e.categories})),w=x();return c.a.createElement("div",{className:"add-product"},c.a.createElement("div",{className:"exit"},c.a.createElement("button",{onClick:t},"Tho\xe1t"),c.a.createElement("button",{onClick:function(){g(!b)}},"Zoom")),c.a.createElement("div",{className:b?"form-add-product zoom":"form-add-product "},c.a.createElement("form",null,c.a.createElement(v.a,{id:"standard-basic",label:"T\xean s\u1ea3n ph\u1ea9m"}),c.a.createElement("div",{style:{margin:"10px 0px 0px 0px"}},c.a.createElement("input",{accept:"image/*",className:w.input,id:"contained-button-file",multiple:!0,type:"file"}),c.a.createElement("label",{htmlFor:"contained-button-file"},c.a.createElement(C.a,{variant:"contained",color:"primary",component:"span"},"Upload"))),c.a.createElement(O.a,{startAdornment:c.a.createElement(y.a,{position:"start"},"$")}),c.a.createElement(O.a,{startAdornment:c.a.createElement(y.a,{position:"start"},"$ Old")}),c.a.createElement("div",{className:"ckeditor"},c.a.createElement(k.a,{editor:T.a,data:o,config:{ckfinder:{uploadUrl:"/api/uploads"}},onChange:function(e,t){var a=t.getData();l(a)}})),f.length>0?c.a.createElement(v.a,{id:"standard-select-currency",select:!0,label:"Category",helperText:"Please select a category",value:m,name:"category",onChange:function(e){var t=e.target,a=t.name,n=t.value;console.log("name of input: ",a),console.log("value of input:",n),E(n),console.log("setstated")}},f.map((function(e){return c.a.createElement(j.a,{key:e._id,value:e._id},e.name)}))):"Loading....",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(C.a,{type:"submit",variant:"contained",color:"primary"},"Th\xeam m\u1edbi"))))}var L={initCategory:function(e){return{type:"INIT",data:e}}},A=g((function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.user})),a=Object(i.g)(),n=c.a.useState(!1),r=Object(d.a)(n,2),o=r[0],l=r[1],u=c.a.useState(!1),m=Object(d.a)(u,2),E=m[0],p=m[1];return c.a.createElement("div",{className:"admin-home"},c.a.createElement("div",{className:"admin-home-header"},c.a.createElement("div",{className:""},c.a.createElement("b",null,"Harukostore.net")),c.a.createElement("div",null,c.a.createElement("input",{className:"search",type:"text",placeholder:"T\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m"})),c.a.createElement("div",{className:"profile"},c.a.createElement("p",null,"Username: ",t.username),c.a.createElement("p",null,"T\xean ng\u01b0\u1eddi d\xf9ng: ",t.name),c.a.createElement("button",{onClick:function(){console.log("logout"),e(b),window.localStorage.removeItem("token"),a.push("/login")}},"Log out"))),c.a.createElement("div",{className:"admin-home-categories"},c.a.createElement("p",null,"Welcome ",t.name)),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){p(!0)}},"Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m"),c.a.createElement("button",{onClick:function(){l(!0)}},"Th\xeam m\u1edbi danh m\u1ee5c")),o&&c.a.createElement(f,{handleExitAddCategory:function(){l(!1)}}),E&&c.a.createElement(I,{exitFormAddProduct:function(){p(!1)}}))})),_=g((function(){return c.a.createElement("div",null,"Product detail")}));var H=function(){var e=Object(s.b)();return Object(n.useEffect)((function(){m.a.get("/api/category").then((function(t){e(L.initCategory(t.data))})).catch()}),[e]),c.a.createElement(l.a,null,c.a.createElement(i.d,null,c.a.createElement(i.b,{path:"/admin/product/:id"},c.a.createElement(_,null)),c.a.createElement(i.b,{path:"/admin/categories"},"categories"),c.a.createElement(i.b,{path:"/admin"},c.a.createElement(A,null)),c.a.createElement(i.b,{path:"/login"},c.a.createElement(E,null)),c.a.createElement(i.b,{path:"/giohang"},"Gio Hang"),c.a.createElement(i.b,{path:"/product/:id"},"Chi tiet san pham"),c.a.createElement(i.b,{path:"/"},"Home")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(77),U=a(29);var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_TOKEN_SUCCESSLY":return t.data;case"CHECK_TOKEN_ERROR":case"LOGOUT":return{};default:return e}};var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT":return t.data;default:return e}},P=Object(U.combineReducers)({user:G,categories:R}),W=Object(U.createStore)(P,Object(K.composeWithDevTools)());o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,{store:W},c.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,a){e.exports=a(134)},89:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.9e10ba61.chunk.js.map